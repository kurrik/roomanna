{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/deque.js","src/index.js","src/pointwindow.js","src/slidingwindow.js"],"names":[],"mappings":"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","file":"post035.built.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class Item {\n  constructor(value) {\n    this.value = value;\n    this.next = null;\n    this.prev = null;\n  }\n}\n\nexport default class Deque {\n  constructor() {\n    this.head_ = null;\n    this.tail_ = null;\n  }\n\n  pushHead(i) {\n    const item = new Item(i);\n    item.next = this.head_;\n    if (this.head_) {\n      this.head_.prev = item;\n    }\n    this.head_ = item;\n    if (!this.tail_) {\n      this.tail_ = item;\n    }\n  }\n\n  pushTail(i) {\n    const item = new Item(i);\n    item.prev = this.tail_;\n    if (this.tail_) {\n      this.tail_.next = item;\n    }\n    this.tail_ = item;\n    if (!this.head_) {\n      this.head_ = item;\n    }\n  }\n\n  popHead() {\n    const item = this.head_;\n    if (item && item.next) {\n      this.head_ = item.next;\n      item.next.prev = null;\n    } else {\n      this.head_ = null;\n      this.tail_ = null;\n    }\n    return item && item.value || null;\n  }\n\n  popTail() {\n    const item = this.tail_;\n    if (item && item.prev) {\n      this.tail_ = item.prev;\n      item.prev.next = null;\n    } else {\n      this.head_ = null;\n      this.tail_ = null;\n    }\n    return item && item.value || null;\n  }\n\n  peekHead() {\n    return this.head_ && this.head_.value || null;\n  }\n\n  peekTail() {\n    return this.tail_ && this.tail_.value || null;\n  }\n\n  filter(test) {\n    let item = this.head_;\n    while (item !== null) {\n      if (test(item.value) === false) {\n        if (item.prev === null) {\n          this.head_ = item.next;\n        } else {\n          item.prev.next = item.next;\n        }\n        if (item.next === null) {\n          this.tail_ = item.prev;\n        } else {\n          item.next.prev = item.prev;\n        }\n      }\n      item = item.next;\n    }\n  }\n}\n","import PointWindow from './pointwindow';\n\nconst windowSize = 5;\nconst maxPoints = 50;\nconst halfPt = 6;\n\nconst canvas = document.getElementById('canvas');\nconst w = parseInt(canvas.getAttribute('width'));\nconst h = parseInt(canvas.getAttribute('height'));\nconst ctx = canvas.getContext('2d');\n\nlet points = [];\nlet win = new PointWindow(windowSize);\n\nfunction draw() {\n  ctx.clearRect(0, 0, w, h);\n  for (var i = 0; i < points.length; i++) {\n    ctx.fillStyle = (i < windowSize) ? 'rgb(0,200,0)' : 'rgb(200,0,0)';\n    ctx.fillRect(points[i][0] - halfPt, points[i][1] - halfPt, halfPt * 2, halfPt * 2);\n  }\n  var winW = win.maxX - win.minX;\n  var winH = win.maxY - win.minY;\n  ctx.strokeStyle = 'rgb(0,0,200)';\n  ctx.strokeRect(win.minX, win.minY, winW, winH);\n}\n\ncanvas.addEventListener('click', function(evt) {\n  points.splice(0, 0, [evt.offsetX, evt.offsetY]);\n  win.add(evt.offsetX, evt.offsetY);\n  while (points.length > maxPoints) {\n    points.pop();\n  }\n  draw();\n});\n\nexport { PointWindow };\n","import SlidingWindow from './slidingwindow';\n\nexport default class PointWindow {\n  constructor(size) {\n    this.minx_ = new SlidingWindow(size, SlidingWindow.Min);\n    this.miny_ = new SlidingWindow(size, SlidingWindow.Min);\n    this.maxx_ = new SlidingWindow(size, SlidingWindow.Max);\n    this.maxy_ = new SlidingWindow(size, SlidingWindow.Max);\n  }\n\n  add(x, y) {\n    this.minx_.add(x);\n    this.maxx_.add(x);\n    this.miny_.add(y);\n    this.maxy_.add(y);\n  }\n\n  get minX() {\n    return this.minx_.value || 0;\n  }\n\n  get minY() {\n    return this.miny_.value || 0;\n  }\n\n  get maxX() {\n    return this.maxx_.value || 0;\n  }\n\n  get maxY() {\n    return this.maxy_.value || 0;\n  }\n}\n","import Deque from './deque';\n\nclass Entry {\n  constructor(index, value) {\n    this.index = index;\n    this.value = value;\n  }\n}\n\nexport default class SlidingWindow {\n  constructor(size, compare) {\n    this.deque_ = new Deque();\n    this.count_ = 0;\n    this.size_ = size;\n    this.compare_ = compare;\n  }\n\n  add(item) {\n    this.deque_.filter((x) => this.compare_(x.value, item));\n    this.deque_.pushTail(new Entry(this.count_, item));\n    this.count_++;\n    let head = this.deque_.peekHead();\n    while (head && head.index < (this.count_ - this.size_)) {\n      this.deque_.popHead();\n      head = this.deque_.peekHead();\n    }\n  }\n\n  get value() {\n    let head = this.deque_.peekHead();\n    return head && head.value || null;\n  }\n\n  static Max(a,b) { return a > b };\n  static Min(a,b) { return a < b };\n}\n"]}