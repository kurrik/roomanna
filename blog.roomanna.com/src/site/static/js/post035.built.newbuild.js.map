{"version":3,"names":[],"mappings":"","sources":["post035.built.newbuild.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Item = function Item(value) {\n  _classCallCheck(this, Item);\n\n  this.value = value;\n  this.next = null;\n  this.prev = null;\n};\n\nvar Deque = function () {\n  function Deque() {\n    _classCallCheck(this, Deque);\n\n    this.head_ = null;\n    this.tail_ = null;\n  }\n\n  _createClass(Deque, [{\n    key: \"pushHead\",\n    value: function pushHead(i) {\n      var item = new Item(i);\n      item.next = this.head_;\n      if (this.head_) {\n        this.head_.prev = item;\n      }\n      this.head_ = item;\n      if (!this.tail_) {\n        this.tail_ = item;\n      }\n    }\n  }, {\n    key: \"pushTail\",\n    value: function pushTail(i) {\n      var item = new Item(i);\n      item.prev = this.tail_;\n      if (this.tail_) {\n        this.tail_.next = item;\n      }\n      this.tail_ = item;\n      if (!this.head_) {\n        this.head_ = item;\n      }\n    }\n  }, {\n    key: \"popHead\",\n    value: function popHead() {\n      var item = this.head_;\n      if (item && item.next) {\n        this.head_ = item.next;\n        item.next.prev = null;\n      } else {\n        this.head_ = null;\n        this.tail_ = null;\n      }\n      return item && item.value || null;\n    }\n  }, {\n    key: \"popTail\",\n    value: function popTail() {\n      var item = this.tail_;\n      if (item && item.prev) {\n        this.tail_ = item.prev;\n        item.prev.next = null;\n      } else {\n        this.head_ = null;\n        this.tail_ = null;\n      }\n      return item && item.value || null;\n    }\n  }, {\n    key: \"peekHead\",\n    value: function peekHead() {\n      return this.head_ && this.head_.value || null;\n    }\n  }, {\n    key: \"peekTail\",\n    value: function peekTail() {\n      return this.tail_ && this.tail_.value || null;\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(test) {\n      var item = this.head_;\n      while (item !== null) {\n        if (test(item.value) === false) {\n          if (item.prev === null) {\n            this.head_ = item.next;\n          } else {\n            item.prev.next = item.next;\n          }\n          if (item.next === null) {\n            this.tail_ = item.prev;\n          } else {\n            item.next.prev = item.prev;\n          }\n        }\n        item = item.next;\n      }\n    }\n  }]);\n\n  return Deque;\n}();\n\nexports.default = Deque;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PointWindow = undefined;\n\nvar _pointwindow = require('./pointwindow');\n\nvar _pointwindow2 = _interopRequireDefault(_pointwindow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar windowSize = 5;\nvar maxPoints = 50;\nvar halfPt = 6;\n\nvar canvas = document.getElementById('canvas');\nvar w = parseInt(canvas.getAttribute('width'));\nvar h = parseInt(canvas.getAttribute('height'));\nvar ctx = canvas.getContext('2d');\n\nvar points = [];\nvar win = new _pointwindow2.default(windowSize);\n\nfunction draw() {\n  ctx.clearRect(0, 0, w, h);\n  for (var i = 0; i < points.length; i++) {\n    ctx.fillStyle = i < windowSize ? 'rgb(0,200,0)' : 'rgb(200,0,0)';\n    ctx.fillRect(points[i][0] - halfPt, points[i][1] - halfPt, halfPt * 2, halfPt * 2);\n  }\n  var winW = win.maxX - win.minX;\n  var winH = win.maxY - win.minY;\n  ctx.strokeStyle = 'rgb(0,0,200)';\n  ctx.strokeRect(win.minX, win.minY, winW, winH);\n}\n\ncanvas.addEventListener('click', function (evt) {\n  points.splice(0, 0, [evt.offsetX, evt.offsetY]);\n  win.add(evt.offsetX, evt.offsetY);\n  while (points.length > maxPoints) {\n    points.pop();\n  }\n  draw();\n});\n\nexports.PointWindow = _pointwindow2.default;\n\n},{\"./pointwindow\":3}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slidingwindow = require('./slidingwindow');\n\nvar _slidingwindow2 = _interopRequireDefault(_slidingwindow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PointWindow = function () {\n  function PointWindow(size) {\n    _classCallCheck(this, PointWindow);\n\n    this.minx_ = new _slidingwindow2.default(size, _slidingwindow2.default.Min);\n    this.miny_ = new _slidingwindow2.default(size, _slidingwindow2.default.Min);\n    this.maxx_ = new _slidingwindow2.default(size, _slidingwindow2.default.Max);\n    this.maxy_ = new _slidingwindow2.default(size, _slidingwindow2.default.Max);\n  }\n\n  _createClass(PointWindow, [{\n    key: 'add',\n    value: function add(x, y) {\n      this.minx_.add(x);\n      this.maxx_.add(x);\n      this.miny_.add(y);\n      this.maxy_.add(y);\n    }\n  }, {\n    key: 'minX',\n    get: function get() {\n      return this.minx_.value || 0;\n    }\n  }, {\n    key: 'minY',\n    get: function get() {\n      return this.miny_.value || 0;\n    }\n  }, {\n    key: 'maxX',\n    get: function get() {\n      return this.maxx_.value || 0;\n    }\n  }, {\n    key: 'maxY',\n    get: function get() {\n      return this.maxy_.value || 0;\n    }\n  }]);\n\n  return PointWindow;\n}();\n\nexports.default = PointWindow;\n\n},{\"./slidingwindow\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _deque = require('../common/deque');\n\nvar _deque2 = _interopRequireDefault(_deque);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Entry = function Entry(index, value) {\n  _classCallCheck(this, Entry);\n\n  this.index = index;\n  this.value = value;\n};\n\nvar SlidingWindow = function () {\n  function SlidingWindow(size, compare) {\n    _classCallCheck(this, SlidingWindow);\n\n    this.deque_ = new _deque2.default();\n    this.count_ = 0;\n    this.size_ = size;\n    this.compare_ = compare;\n  }\n\n  _createClass(SlidingWindow, [{\n    key: 'add',\n    value: function add(item) {\n      var _this = this;\n\n      this.deque_.filter(function (x) {\n        return _this.compare_(x.value, item);\n      });\n      this.deque_.pushTail(new Entry(this.count_, item));\n      this.count_++;\n      var head = this.deque_.peekHead();\n      while (head && head.index < this.count_ - this.size_) {\n        this.deque_.popHead();\n        head = this.deque_.peekHead();\n      }\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      var head = this.deque_.peekHead();\n      return head && head.value || null;\n    }\n  }], [{\n    key: 'Max',\n    value: function Max(a, b) {\n      return a > b;\n    }\n  }, {\n    key: 'Min',\n    value: function Min(a, b) {\n      return a < b;\n    }\n  }]);\n\n  return SlidingWindow;\n}();\n\nexports.default = SlidingWindow;\n\n},{\"../common/deque\":1}]},{},[2]);\n"],"file":"post035.built.newbuild.js"}