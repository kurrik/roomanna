{"version":3,"sources":["webpack:///post035.js","webpack:///./src/post035/main.js","webpack:///./src/post035/pointwindow.js","webpack:///./src/post035/slidingwindow.js","webpack:///./src/common/deque.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","draw","ctx","clearRect","w","h","i","points","length","fillStyle","windowSize","fillRect","halfPt","winW","win","maxX","minX","winH","maxY","minY","strokeStyle","strokeRect","Object","defineProperty","value","PointWindow","undefined","_pointwindow","_pointwindow2","maxPoints","canvas","document","getElementById","parseInt","getAttribute","getContext","addEventListener","evt","splice","offsetX","offsetY","add","pop","57","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_slidingwindow","_slidingwindow2","size","this","minx_","Min","miny_","maxx_","Max","maxy_","x","y","get","58","_deque","_deque2","Entry","index","SlidingWindow","compare","deque_","count_","size_","compare_","item","_this","filter","pushTail","head","peekHead","popHead","a","b","59","Item","next","prev","Deque","head_","tail_","test"],"mappings":"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","file":"post035.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PointWindow = undefined;\n\t\n\tvar _pointwindow = __webpack_require__(57);\n\t\n\tvar _pointwindow2 = _interopRequireDefault(_pointwindow);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar windowSize = 5;\n\tvar maxPoints = 50;\n\tvar halfPt = 6;\n\t\n\tvar canvas = document.getElementById('canvas');\n\tvar w = parseInt(canvas.getAttribute('width'));\n\tvar h = parseInt(canvas.getAttribute('height'));\n\tvar ctx = canvas.getContext('2d');\n\t\n\tvar points = [];\n\tvar win = new _pointwindow2.default(windowSize);\n\t\n\tfunction draw() {\n\t  ctx.clearRect(0, 0, w, h);\n\t  for (var i = 0; i < points.length; i++) {\n\t    ctx.fillStyle = i < windowSize ? 'rgb(0,200,0)' : 'rgb(200,0,0)';\n\t    ctx.fillRect(points[i][0] - halfPt, points[i][1] - halfPt, halfPt * 2, halfPt * 2);\n\t  }\n\t  var winW = win.maxX - win.minX;\n\t  var winH = win.maxY - win.minY;\n\t  ctx.strokeStyle = 'rgb(0,0,200)';\n\t  ctx.strokeRect(win.minX, win.minY, winW, winH);\n\t}\n\t\n\tcanvas.addEventListener('click', function (evt) {\n\t  points.splice(0, 0, [evt.offsetX, evt.offsetY]);\n\t  win.add(evt.offsetX, evt.offsetY);\n\t  while (points.length > maxPoints) {\n\t    points.pop();\n\t  }\n\t  draw();\n\t});\n\t\n\texports.PointWindow = _pointwindow2.default;\n\n/***/ },\n\n/***/ 57:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _slidingwindow = __webpack_require__(58);\n\t\n\tvar _slidingwindow2 = _interopRequireDefault(_slidingwindow);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PointWindow = function () {\n\t  function PointWindow(size) {\n\t    _classCallCheck(this, PointWindow);\n\t\n\t    this.minx_ = new _slidingwindow2.default(size, _slidingwindow2.default.Min);\n\t    this.miny_ = new _slidingwindow2.default(size, _slidingwindow2.default.Min);\n\t    this.maxx_ = new _slidingwindow2.default(size, _slidingwindow2.default.Max);\n\t    this.maxy_ = new _slidingwindow2.default(size, _slidingwindow2.default.Max);\n\t  }\n\t\n\t  _createClass(PointWindow, [{\n\t    key: 'add',\n\t    value: function add(x, y) {\n\t      this.minx_.add(x);\n\t      this.maxx_.add(x);\n\t      this.miny_.add(y);\n\t      this.maxy_.add(y);\n\t    }\n\t  }, {\n\t    key: 'minX',\n\t    get: function get() {\n\t      return this.minx_.value || 0;\n\t    }\n\t  }, {\n\t    key: 'minY',\n\t    get: function get() {\n\t      return this.miny_.value || 0;\n\t    }\n\t  }, {\n\t    key: 'maxX',\n\t    get: function get() {\n\t      return this.maxx_.value || 0;\n\t    }\n\t  }, {\n\t    key: 'maxY',\n\t    get: function get() {\n\t      return this.maxy_.value || 0;\n\t    }\n\t  }]);\n\t\n\t  return PointWindow;\n\t}();\n\t\n\texports.default = PointWindow;\n\n/***/ },\n\n/***/ 58:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _deque = __webpack_require__(59);\n\t\n\tvar _deque2 = _interopRequireDefault(_deque);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Entry = function Entry(index, value) {\n\t  _classCallCheck(this, Entry);\n\t\n\t  this.index = index;\n\t  this.value = value;\n\t};\n\t\n\tvar SlidingWindow = function () {\n\t  function SlidingWindow(size, compare) {\n\t    _classCallCheck(this, SlidingWindow);\n\t\n\t    this.deque_ = new _deque2.default();\n\t    this.count_ = 0;\n\t    this.size_ = size;\n\t    this.compare_ = compare;\n\t  }\n\t\n\t  _createClass(SlidingWindow, [{\n\t    key: 'add',\n\t    value: function add(item) {\n\t      var _this = this;\n\t\n\t      this.deque_.filter(function (x) {\n\t        return _this.compare_(x.value, item);\n\t      });\n\t      this.deque_.pushTail(new Entry(this.count_, item));\n\t      this.count_++;\n\t      var head = this.deque_.peekHead();\n\t      while (head && head.index < this.count_ - this.size_) {\n\t        this.deque_.popHead();\n\t        head = this.deque_.peekHead();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'value',\n\t    get: function get() {\n\t      var head = this.deque_.peekHead();\n\t      return head && head.value || null;\n\t    }\n\t  }], [{\n\t    key: 'Max',\n\t    value: function Max(a, b) {\n\t      return a > b;\n\t    }\n\t  }, {\n\t    key: 'Min',\n\t    value: function Min(a, b) {\n\t      return a < b;\n\t    }\n\t  }]);\n\t\n\t  return SlidingWindow;\n\t}();\n\t\n\texports.default = SlidingWindow;\n\n/***/ },\n\n/***/ 59:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Item = function Item(value) {\n\t  _classCallCheck(this, Item);\n\t\n\t  this.value = value;\n\t  this.next = null;\n\t  this.prev = null;\n\t};\n\t\n\tvar Deque = function () {\n\t  function Deque() {\n\t    _classCallCheck(this, Deque);\n\t\n\t    this.head_ = null;\n\t    this.tail_ = null;\n\t  }\n\t\n\t  _createClass(Deque, [{\n\t    key: \"pushHead\",\n\t    value: function pushHead(i) {\n\t      var item = new Item(i);\n\t      item.next = this.head_;\n\t      if (this.head_) {\n\t        this.head_.prev = item;\n\t      }\n\t      this.head_ = item;\n\t      if (!this.tail_) {\n\t        this.tail_ = item;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"pushTail\",\n\t    value: function pushTail(i) {\n\t      var item = new Item(i);\n\t      item.prev = this.tail_;\n\t      if (this.tail_) {\n\t        this.tail_.next = item;\n\t      }\n\t      this.tail_ = item;\n\t      if (!this.head_) {\n\t        this.head_ = item;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"popHead\",\n\t    value: function popHead() {\n\t      var item = this.head_;\n\t      if (item && item.next) {\n\t        this.head_ = item.next;\n\t        item.next.prev = null;\n\t      } else {\n\t        this.head_ = null;\n\t        this.tail_ = null;\n\t      }\n\t      return item && item.value || null;\n\t    }\n\t  }, {\n\t    key: \"popTail\",\n\t    value: function popTail() {\n\t      var item = this.tail_;\n\t      if (item && item.prev) {\n\t        this.tail_ = item.prev;\n\t        item.prev.next = null;\n\t      } else {\n\t        this.head_ = null;\n\t        this.tail_ = null;\n\t      }\n\t      return item && item.value || null;\n\t    }\n\t  }, {\n\t    key: \"peekHead\",\n\t    value: function peekHead() {\n\t      return this.head_ && this.head_.value || null;\n\t    }\n\t  }, {\n\t    key: \"peekTail\",\n\t    value: function peekTail() {\n\t      return this.tail_ && this.tail_.value || null;\n\t    }\n\t  }, {\n\t    key: \"filter\",\n\t    value: function filter(test) {\n\t      var item = this.head_;\n\t      while (item !== null) {\n\t        if (test(item.value) === false) {\n\t          if (item.prev === null) {\n\t            this.head_ = item.next;\n\t          } else {\n\t            item.prev.next = item.next;\n\t          }\n\t          if (item.next === null) {\n\t            this.tail_ = item.prev;\n\t          } else {\n\t            item.next.prev = item.prev;\n\t          }\n\t        }\n\t        item = item.next;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Deque;\n\t}();\n\t\n\texports.default = Deque;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// post035.js","import PointWindow from './pointwindow';\n\nconst windowSize = 5;\nconst maxPoints = 50;\nconst halfPt = 6;\n\nconst canvas = document.getElementById('canvas');\nconst w = parseInt(canvas.getAttribute('width'));\nconst h = parseInt(canvas.getAttribute('height'));\nconst ctx = canvas.getContext('2d');\n\nlet points = [];\nlet win = new PointWindow(windowSize);\n\nfunction draw() {\n  ctx.clearRect(0, 0, w, h);\n  for (var i = 0; i < points.length; i++) {\n    ctx.fillStyle = (i < windowSize) ? 'rgb(0,200,0)' : 'rgb(200,0,0)';\n    ctx.fillRect(points[i][0] - halfPt, points[i][1] - halfPt, halfPt * 2, halfPt * 2);\n  }\n  var winW = win.maxX - win.minX;\n  var winH = win.maxY - win.minY;\n  ctx.strokeStyle = 'rgb(0,0,200)';\n  ctx.strokeRect(win.minX, win.minY, winW, winH);\n}\n\ncanvas.addEventListener('click', function(evt) {\n  points.splice(0, 0, [evt.offsetX, evt.offsetY]);\n  win.add(evt.offsetX, evt.offsetY);\n  while (points.length > maxPoints) {\n    points.pop();\n  }\n  draw();\n});\n\nexport { PointWindow };\n\n\n\n// WEBPACK FOOTER //\n// ./src/post035/main.js","import SlidingWindow from './slidingwindow';\n\nexport default class PointWindow {\n  constructor(size) {\n    this.minx_ = new SlidingWindow(size, SlidingWindow.Min);\n    this.miny_ = new SlidingWindow(size, SlidingWindow.Min);\n    this.maxx_ = new SlidingWindow(size, SlidingWindow.Max);\n    this.maxy_ = new SlidingWindow(size, SlidingWindow.Max);\n  }\n\n  add(x, y) {\n    this.minx_.add(x);\n    this.maxx_.add(x);\n    this.miny_.add(y);\n    this.maxy_.add(y);\n  }\n\n  get minX() {\n    return this.minx_.value || 0;\n  }\n\n  get minY() {\n    return this.miny_.value || 0;\n  }\n\n  get maxX() {\n    return this.maxx_.value || 0;\n  }\n\n  get maxY() {\n    return this.maxy_.value || 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/post035/pointwindow.js","import Deque from '../common/deque';\n\nclass Entry {\n  constructor(index, value) {\n    this.index = index;\n    this.value = value;\n  }\n}\n\nexport default class SlidingWindow {\n  constructor(size, compare) {\n    this.deque_ = new Deque();\n    this.count_ = 0;\n    this.size_ = size;\n    this.compare_ = compare;\n  }\n\n  add(item) {\n    this.deque_.filter((x) => this.compare_(x.value, item));\n    this.deque_.pushTail(new Entry(this.count_, item));\n    this.count_++;\n    let head = this.deque_.peekHead();\n    while (head && head.index < (this.count_ - this.size_)) {\n      this.deque_.popHead();\n      head = this.deque_.peekHead();\n    }\n  }\n\n  get value() {\n    let head = this.deque_.peekHead();\n    return head && head.value || null;\n  }\n\n  static Max(a,b) { return a > b };\n  static Min(a,b) { return a < b };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/post035/slidingwindow.js","class Item {\n  constructor(value) {\n    this.value = value;\n    this.next = null;\n    this.prev = null;\n  }\n}\n\nexport default class Deque {\n  constructor() {\n    this.head_ = null;\n    this.tail_ = null;\n  }\n\n  pushHead(i) {\n    const item = new Item(i);\n    item.next = this.head_;\n    if (this.head_) {\n      this.head_.prev = item;\n    }\n    this.head_ = item;\n    if (!this.tail_) {\n      this.tail_ = item;\n    }\n  }\n\n  pushTail(i) {\n    const item = new Item(i);\n    item.prev = this.tail_;\n    if (this.tail_) {\n      this.tail_.next = item;\n    }\n    this.tail_ = item;\n    if (!this.head_) {\n      this.head_ = item;\n    }\n  }\n\n  popHead() {\n    const item = this.head_;\n    if (item && item.next) {\n      this.head_ = item.next;\n      item.next.prev = null;\n    } else {\n      this.head_ = null;\n      this.tail_ = null;\n    }\n    return item && item.value || null;\n  }\n\n  popTail() {\n    const item = this.tail_;\n    if (item && item.prev) {\n      this.tail_ = item.prev;\n      item.prev.next = null;\n    } else {\n      this.head_ = null;\n      this.tail_ = null;\n    }\n    return item && item.value || null;\n  }\n\n  peekHead() {\n    return this.head_ && this.head_.value || null;\n  }\n\n  peekTail() {\n    return this.tail_ && this.tail_.value || null;\n  }\n\n  filter(test) {\n    let item = this.head_;\n    while (item !== null) {\n      if (test(item.value) === false) {\n        if (item.prev === null) {\n          this.head_ = item.next;\n        } else {\n          item.prev.next = item.next;\n        }\n        if (item.next === null) {\n          this.tail_ = item.prev;\n        } else {\n          item.next.prev = item.prev;\n        }\n      }\n      item = item.next;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/deque.js"],"sourceRoot":""}